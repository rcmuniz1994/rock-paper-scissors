<!DOCTYPE html>

<html>
  <script>
    function computerPlay() {
      const computerChoice = Math.floor(Math.random() * 3);
      if (computerChoice === 0) {
        return "Rock";
      }

      if (computerChoice === 1) {
        return "Paper";
      }

      return "Scissors";
    }

    function playRound(playerSelection, computerSelection) {
      const playerChoice = playerSelection.toLowerCase();
      const computerChoice = computerSelection.toLowerCase();

      if (playerChoice === "rock") {
        if (computerChoice === "scissors") {
          return {
            isPlayerTheWinner: true,
            message: "You win! Rock beats Scissors",
          };
        }
        if (computerChoice === "paper") {
          return {
            isPlayerTheWinner: false,
            message: "You lose! Paper beats Rock",
          };
        }
      }

      if (playerChoice === "paper") {
        if (computerChoice === "rock") {
          return {
            isPlayerTheWinner: true,
            message: "You win! Paper beats Rock",
          };
        }
        if (computerChoice === "scissors") {
          return {
            isPlayerTheWinner: false,
            message: "You lose! Scissors beats Paper",
          };
        }
      }

      if (playerChoice === "scissors") {
        if (computerChoice === "paper") {
          return {
            isPlayerTheWinner: true,
            message: "You win! Scissors beats Paper",
          };
        }
        if (computerChoice === "rock") {
          return {
            isPlayerTheWinner: false,
            message: "You lose! Rock beats Scissors",
          };
        }
      }

      return {
        isPlayerTheWinner: null,
        message: "No one won!",
      };
    }

    function game() {
      let playerScore = 0;
      let computerScore = 0;
      for (var round = 1; round <= 5; round++) {
        const playerChoice = prompt("Rock, Paper or Scissors?");
        console.log("you: ", playerChoice);
        const computerChoice = computerPlay();
        console.log("computer: ", computerChoice);
        const roundResult = playRound(playerChoice, computerChoice);

        if (roundResult.isPlayerTheWinner === true) {
          playerScore += 1;
        }

        if (roundResult.isPlayerTheWinner === false) {
          computerScore += 1;
        }

        console.log(
          `Round ${round} [Player: ${playerScore} X Computer: ${computerScore}]`
        );
      }

      if (playerScore > computerScore) {
        return "You win! Congratulations!";
      }

      if (playerScore < computerScore) {
        return "You lose. I'm sorry.";
      }

      return "No one won. Try again.";
    }

    console.log(game());
  </script>
  <body>
    For now, the Rock Paper Scissors game doesn't have a graphical interface.
    Please open the console.
  </body>
</html>
